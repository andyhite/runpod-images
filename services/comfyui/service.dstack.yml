name: comfyui
type: task

image: andyhite/comfyui:latest

commands:
  - cd /ComfyUI && python main.py --listen 0.0.0.0

ports:
  - 8188

volumes:
  - name: comfyui-data
    path: /workspace

env:
  - HF_TOKEN

backends:
  - runpod

regions:
  - US-TX-3

resources:
  gpu: L40S

spot_policy: on-demand
